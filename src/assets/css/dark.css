/* Dark theme variables */

/* Dark theme specific variables based on system preference or manual override */
:root,
:root[data-theme='dark'] {
  --color-text: var(--color-base-light);
  --color-bg: var(--color-base-dark);
  --color-base: var(--color-base-light);
  --color-primary: var(--color-primary-highlight);
  --color-secondary: var(--color-secondary-highlight);
  --color-tertiary: var(--color-tertiary-highlight);
  /* Fallbacks if modern color syntax not supported */
  --color-text-accent: #a8a8a8;
  --color-bg-accent: #383838;
  --color-bg-accent-2: #404040;
}

/* Enhancements for browsers that support color-mix */
@supports (background: color-mix(in srgb, red 50%, blue)) {
  :root,
  :root[data-theme='dark'] {
    --color-text-accent: color-mix(
      in oklab,
      var(--color-base-light) 70%,
      var(--color-bg)
    );
    --color-bg-accent: color-mix(in oklab, var(--color-bg) 92%, var(--color-text));
    --color-bg-accent-2: color-mix(in oklab, var(--color-bg) 80%, var(--color-text));
    /* add opacity with color-mix */
    --color-primary: color-mix(
      in oklab,
      var(--color-primary-highlight),
      transparent 20%
    );
    --color-secondary: color-mix(
      in oklab,
      var(--color-secondary-highlight),
      transparent 20%
    );
    --color-tertiary: color-mix(
      in oklab,
      var(--color-tertiary-highlight),
      transparent 20%
    );
  }
}

/* Enhancements for browsers that support relative color values */
@supports (color: hsl(from red h s l)) {
  :root,
  :root[data-theme='dark'] {
    --color-primary: hsl(from var(--color-primary-highlight) h calc(s / 1.2) l);
    --color-secondary: hsl(from var(--color-secondary-highlight) h calc(s / 1.2) l);
    --color-tertiary: hsl(from var(--color-tertiary-highlight) h calc(s / 1.2) l);
  }
}
