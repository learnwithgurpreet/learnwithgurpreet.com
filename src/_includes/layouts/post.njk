{% extends "layouts/base.njk" %}
{% block content %}
  {% include "components/header.njk" %}
  <main class="container">
    <article id="content">
      <h1 class="article-title">{{ title }}</h1>
      <time datetime="{{ page.date | htmlDateString }}"><small>{{ page.date | readableDate }}</small></time>
      <p>
        {%- for tag in tags | filterTagList -%}
          {%- set tagUrl %}/tag/{{ tag | slug }}/{% endset -%}
          <a href="{{ tagUrl | url }}" style="margin-inline-end: 0.5em;">#{{ tag }}</a>
        {%- endfor %}
      </p>
      {{ content | safe }}
      <footer>
        <a class="button" href="mailto:{{ metadata.author.email }}?subject=Re: {{ title }}">Reply via email</a>
      </footer>
    </article>
    {% set previousPost = collections.posts | getPreviousCollectionItem %}
    {% set nextPost = collections.posts | getNextCollectionItem %}
    {% if previousPost or nextPost %}
    <nav class="container">
      {% if previousPost %}
        <li><a href="{{ previousPost.url }}">&larr; Previous</a></li>
      {% endif %}
      {% if nextPost %}
        <li><a href="{{ nextPost.url }}">Next &rarr;</a></li>
      {% endif %}
    </nav>
  </main>
  {% endif %}
  {% include "components/footer.njk" %}
{% endblock %}
